---

title: python 基础

date: 2021-11-14 09:34:18

---

## 第1章 python 基础语法
### 1.1 **打印**  

`print("helloworld")`  

---

### 1.2 **行和缩进**  

使用缩进来写模块, 严格执行缩进

---



### 1.3 **引号**  

```py
   word = 'word'  
   sentence = "这是一个句子。"  
   paragraph ='''
       这是一个段落。  
       包含了多个语句'''  
```

---



### 1.4 **注释**  

单行注释
```py
# 第一个注释
print ("Hello, Python!")  # 第二个注释
```

多行注释
```py
'''
这是多行注释，使用单引号。
这是多行注释，使用单引号。
这是多行注释，使用单引号。
'''
```

---



### 1.5 **变量类型**  

Python 中的变量赋值不需要类型声明。  

```py
counter = 100 # 赋值整型变量
miles = 1000.0 # 浮点型
name = "John" # 字符串
```

---



### 1.6 **引入模块**

```py
 import sys # 导入 sys 模块
 from sys import argv,path  #  导入特定的成员
```

---



### 1.7 **函数**

定义函数
```py
def hello() :
    print("Hello World!")

hello()
```

匿名函数
```py
sum = lambda arg1, arg2: arg1 + arg2
print ("相加后的值为 : ", sum( 10, 20 ))
```

---



### 1.8 **键盘输入**

```py
str = input("请输入：");
print ("你输入的内容是: ", str)
```





## 第2章 python 循环控制



### 2.1 **if 判断**

```py
if condition_1:
    statement_block_1
elif condition_2:
    statement_block_2
else:
    statement_block_3
```

---



### 2.2 **while 循环**

```py
n = 100
sum = 0
counter = 1
while counter <= n:
    sum = sum + counter
    counter += 1
```

---



### 2.3 **for 循环**  

```py
sites = ["Baidu", "Google","Runoob","Taobao"]
for site in sites:
    if site == "Runoob":
        print("菜鸟教程!")
        break
    print("循环数据 " + site)
else:
    print("没有循环数据!")
```

range()函数  
```py
for i in range(5):
for i in range(5,9):
for i in range(0, 10, 3) :
```

生成列表
```py
list(range(5))
//输出  [0, 1, 2, 3, 4]
```





## 第3章 python 数据结构

### 3.1 五个基本数据类型

- Numbers（数字）
- String（字符串）
- List（列表）
- Tuple（元组）
- Dictionary（字典）



### 3.2 **Python 数字**

```py
var1 = 1
var2 = 10
```

---



### 3.3 **Python 字符串**

```py
s = "a1a2···an"
```



### 3.4 **Python 列表**

```py
list = [ 'abcd', 786 , 2.23, 'runoob', 70.2 ]
```

---



### 3.5 **Python 元组**

```py
tuple = ( 'abcd', 786 , 2.23, 'runoob', 70.2  )
```

---



### 3.6 **Python 集合**

```py
sites = {'Google', 'Facebook', 'Zhihu', 'Baidu'}
```

---



### 3.7 **Python 字典**

```py
tinydict = {'name': 'runoob','code':1, 'site': 'www.runoob.com'}
```





## 第4章 文件读写

### 4.1 文件读取

```python
f = open("/tmp/foo.txt", "r")
str = f.read()
print(str)
f.close()
```

---



### 4.2 文件写入

```python
f = open("/tmp/foo.txt", "w")
f.write( "Python 是一个非常好的语言。\n是的，的确非常好!!\n" )

f.close()
```

---



### 4.3 异常处理

```python
try:
    runoob()
except AssertionError as error:
    print(error)
else:
    try:
        with open('file.log') as file:
            read_data = file.read()
    except FileNotFoundError as fnf_error:
        print(fnf_error)
finally:
    print('这句话，无论异常是否发生都会执行。')
```



## 第5章 面向对象

### 5.1 对象

```python
class Complex:
    def __init__(self, realpart, imagpart):
        self.r = realpart
        self.i = imagpart
x = Complex(3.0, -4.5)
print(x.r, x.i)   # 输出结果：3.0 -4.5
```



## 第6章 conda和pip

### 6.1 pip 配置

pip 是 Python 包管理工具，该工具提供了对 Python 包的查找、下载、安装、卸载的功能。



使用豆瓣源下载

pip3 install you-get -i https://pypi.doubanio.com/simple



查看是否已经安装 pip 可以使用以下命令：  

pip --version



下载安装包使用以下命令：  

pip install some-package-name



例如我们安装 numpy 包：  

pip install numpy



我们也可以轻易地通过以下的命令来移除软件包：  

pip uninstall numpy



如果要查看我们已经安装的软件包，可以使用以下命令： 


pip list 









## 第7章 正则模块

### 7.1 关键字

```python
. * + ? \ [ ] ^ $ { } | ( )
```

`.` 表示匹配一个单字符

`*`  表示匹配前面的字符任意次数,包括0, 以行为单位, 通常和 `.*`配合使用

`+` 表示匹配前面的字符任意次数,不包括0, 以行为单位

`?` 表示关闭贪婪模式

`\` 转义后面的关键字, 并且有特殊用法 (见目录7.2)

`[0-9]` 表示匹配数字0-9 , 去掉`横杠`就是0和9, `点`和`加号`失效, 可以写转义`\d`等

`[^0-9]` 表示匹配除了0-9之外的数字

`^` 写在表达式开头, 多行模式每行开头都匹配该规则, 单行只匹配全文开头

`$`写在表达式结果, 多行模式每行结尾都匹配该规则, 单行只匹配全文结尾

`{a,b}` 表示匹配前面的字符最少a次,最多b次

`|`

`()` 表示对匹配后的结果只取括号内的部分, 可以有多个括号但不能嵌套

除上述字符外, 都是直接匹配字符本身 , 如逗号



### 7.2 转义特殊用法

`\d` 匹配0-9之间的任意一个数字字符, 等价于 [0-9]  

`\D` 匹配0-9之间的任意一个非数字字符, 等价于 `[^0-9]`

`\s` 匹配任意一个空白字符, 等价于`[\t\n\r\f\v]`

`\S`匹配任意一个非空白字符, 等价于 `[^\t\n\r\f\v]`

`\w` 匹配任意一个文字字符, 等价于`[a-zA-Z0-9]`

`\W` 匹配任意一个非文字字符, 等价于`[^a-zA-Z0-9]`



### 7.2 python语法

re.compile 方法

可选参数 flag  

​	ASCII  使用ascii码匹配

​	IGNORECASE  忽略大小写模式

​	MUTILINE  开启多行模式

​	VERBOSE 

```python
import re
content = '''
    我喜欢红色,
    他喜欢绿色,
    我们都喜欢黄色
'''

p = re.compile(r'.色')  # r''表示不做任何转义处理
for item in p.findall(content):
  print(item)
  
$result:  红色 绿色 黄色  
```



re.split 方法



re.sub 方法



### 7.3 常用正则公式



```python
# 匹配所有 结尾是色 且前面只有一个字符 的词语
r'.色'

# 匹配所有html标签,需要加问号,不然是贪婪模式  
r'<.*?>' 

1. Email地址：
^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$

2. 域名：
[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(/.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+/.?

3. InternetURL：
[a-zA-z]+://[^\s]* 或 ^http://([\w-]+\.)+[\w-]+(/[\w-./?%&=]*)?$

4. 手机号码：
^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9])\d{8}$

5. 电话号码
("XXX-XXXXXXX"、"XXXX-XXXXXXXX"、"XXX-XXXXXXX"、"XXX-XXXXXXXX"、"XXXXXXX"和"XXXXXXXX)：
 ^(\(\d{3,4}-)|\d{3.4}-)?\d{7,8}$

6. 国内电话号码(0511-4405222、021-87888822)：
 \d{3}-\d{8}|\d{4}-\d{7}

7. 身份证号(15位、18位数字)：
 ^\d{15}|\d{18}$

8. 短身份证号码(数字、字母x结尾)：^([0-9]){7,18}(x|X)?$ 或 ^\d{8,18}|[0-9x]{8,18}|[0-9X]{8,18}?$

9. 帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$

10. 密码(以字母开头，长度在6~18之间，只能包含字母、数字和下划线)：^[a-zA-Z]\w{5,17}$

11. 强密码(必须包含大小写字母和数字的组合，不能使用特殊字符，长度在8-10之间)：^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,10}$

12. 日期格式：^\d{4}-\d{1,2}-\d{1,2}

13. 一年的12个月(01～09和1～12)：^(0?[1-9]|1[0-2])$

14. 一个月的31天(01～09和1～31)：^((0?[1-9])|((1|2)[0-9])|30|31)$

15. 钱的输入格式：

16. 1.有四种钱的表示形式我们可以接受:"10000.00" 和 "10,000.00", 和没有 "分" 的 "10000" 和 "10,000"：^[1-9][0-9]*$

17. 2.这表示任意一个不以0开头的数字,但是,这也意味着一个字符"0"不通过,所以我们采用下面的形式：^(0|[1-9][0-9]*)$

18. 3.一个0或者一个不以0开头的数字.我们还可以允许开头有一个负号：^(0|-?[1-9][0-9]*)$

19. 4.这表示一个0或者一个可能为负的开头不为0的数字.让用户以0开头好了.把负号的也去掉,因为钱总不能是负的吧.下面我们要加的是说明可能的小数部分：^[0-9]+(.[0-9]+)?$

20. 5.必须说明的是,小数点后面至少应该有1位数,所以"10."是不通过的,但是 "10" 和 "10.2" 是通过的：^[0-9]+(.[0-9]{2})?$

21. 6.这样我们规定小数点后面必须有两位,如果你认为太苛刻了,可以这样：^[0-9]+(.[0-9]{1,2})?$

22. 7.这样就允许用户只写一位小数.下面我们该考虑数字中的逗号了,我们可以这样：^[0-9]{1,3}(,[0-9]{3})*(.[0-9]{1,2})?$

23 8.1到3个数字,后面跟着任意个 逗号+3个数字,逗号成为可选,而不是必须：^([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(.[0-9]{1,2})?$

24. 备注：这就是最终结果了,别忘了"+"可以用"*"替代如果你觉得空字符串也可以接受的话(奇怪,为什么?)最后,别忘了在用函数时去掉去掉那个反斜杠,一般的错误都在这里

25. xml文件：^([a-zA-Z]+-?)+[a-zA-Z0-9]+\\.[x|X][m|M][l|L]$

26. 中文字符的正则表达式：[\u4e00-\u9fa5]

27. 双字节字符：[^\x00-\xff] (包括汉字在内，可以用来计算字符串的长度(一个双字节字符长度计2，ASCII字符计1))

28. 空白行的正则表达式：\n\s*\r (可以用来删除空白行)

29. HTML标记的正则表达式：<(\S*?)[^>]*>.*?</\1>|<.*? /> (网上流传的版本太糟糕，上面这个也仅仅能部分，对于复杂的嵌套标记依旧无能为力)

30. 首尾空白字符的正则表达式：^\s*|\s*$或(^\s*)|(\s*$) (可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式)

31. 腾讯QQ号：[1-9][0-9]{4,} (腾讯QQ号从10000开始)

32. 中国邮政编码：[1-9]\d{5}(?!\d) (中国邮政编码为6位数字)

33. IP地址：\d+\.\d+\.\d+\.\d+ (提取IP地址时有用)

34. IP地址：((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))

35. IP-v4地址：\\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\b (提取IP地址时有用)
36. 校验IP-v6地址:(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))
37. 子网掩码：((?:(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d?\\d))
38. 校验日期:^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$(“yyyy-mm-dd“ 格式的日期校验，已考虑平闰年。)
39. 抽取注释：<!--(.*?)-->
40. 查找CSS属性:^\\s*[a-zA-Z\\-]+\\s*[:]{1}\\s[a-zA-Z0-9\\s.#]+[;]{1}
41. 提取页面超链接:(<a\\s*(?!.*\\brel=)[^>]*)(href="https?:\\/\\/)((?!(?:(?:www\\.)?'.implode('|(?:www\\.)?', $follow_list).'))[^" rel="external nofollow" ]+)"((?!.*\\brel=)[^>]*)(?:[^>]*)>
42. 提取网页图片:\\< *[img][^\\\\>]*[src] *= *[\\"\\']{0,1}([^\\"\\'\\ >]*)
43. 提取网页颜色代码:^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$
44. 文件扩展名效验:^([a-zA-Z]\\:|\\\\)\\\\([^\\\\]+\\\\)*[^\\/:*?"<>|]+\\.txt(l)?$
45. 判断IE版本：^.*MSIE [5-8](?:\\.[0-9]+)?(?!.*Trident\\/[5-9]\\.0).*$
```







###  正则验证网站

https://regex101.com/

### 正则可视化网站

https://jex.im/regulex/









## 第8章 其他常用模块

### time 时间模块



### math 数学模块



### os 系统模块



### request 网络请求



### pyinstall  打包为执行文件



### faker 生成随机假数据

```
from faker import Faker
#定义语言
faker_data = Faker(locale='zh_CN')

# 模拟姓名
print(faker_data.name_female())

# 模拟身份证号码 18-50岁
print(faker_data.ssn(min_age=18, max_age=50))

# 模拟手机号码
print(faker_data.phone_number())

# 模拟银行卡号
print(faker_data.credit_card_number())

# 模拟IP地址
print(faker_data.ipv4_private())

# 模拟公司名称
print(faker_data.company())

# 模拟城市位置
print(faker_data.city())

# 模拟具体街道
print(faker_data.address())

# 模拟个人配置信息
print(faker_data.profile())

# 模拟邮政编码
print(faker_data.postcode())

# 模拟随机uri地址
print(faker_data.uri())
```



